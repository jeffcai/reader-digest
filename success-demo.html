<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reader Digest - URL Preview Success Demo</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; 
            background: #f9fafb; 
            margin: 0; 
            padding: 20px; 
        }
        .container { max-width: 800px; margin: 0 auto; }
        .card { 
            background: white; 
            border: 1px solid #e5e7eb; 
            border-radius: 8px; 
            padding: 20px; 
            margin-bottom: 20px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .article-card { margin-bottom: 24px; }
        .article-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; color: #111827; }
        .article-meta { color: #6b7280; font-size: 14px; margin-bottom: 12px; }
        .article-notes { color: #374151; margin-bottom: 12px; line-height: 1.5; }
        .preview-btn { 
            color: #2563eb; 
            text-decoration: none; 
            font-size: 14px; 
            cursor: pointer; 
            border: none;
            background: none;
        }
        .preview-btn:hover { color: #1d4ed8; }
        .preview-content { 
            border: 1px solid #e5e7eb; 
            border-radius: 6px; 
            background: #f9fafb; 
            margin-top: 12px; 
            overflow: hidden;
            padding: 12px;
        }
        .preview-image { 
            width: 80px; 
            height: 60px; 
            object-fit: cover; 
            float: left; 
            margin-right: 16px; 
            border-radius: 4px;
        }
        .preview-text { overflow: hidden; }
        .preview-title { font-weight: 600; color: #111827; margin-bottom: 4px; font-size: 14px; line-height: 1.3; }
        .preview-description { color: #6b7280; font-size: 12px; line-height: 1.4; margin-bottom: 4px; }
        .preview-domain { color: #9ca3af; font-size: 11px; }
        .tags { margin-top: 12px; }
        .tag { 
            background: #f3f4f6; 
            color: #6b7280; 
            padding: 4px 8px; 
            border-radius: 4px; 
            font-size: 12px; 
            margin-right: 6px;
        }
        h1 { color: #111827; margin-bottom: 32px; }
        h2 { color: #111827; margin-bottom: 16px; font-size: 20px; }
        .success-note {
            background: #d1fae5;
            border: 1px solid #a7f3d0;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 20px;
            color: #065f46;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Reader Digest - URL Preview Success Demo</h1>
        
        <div class="success-note">
            <strong>‚úÖ Success!</strong> This demo shows what the URL preview functionality looks like when working correctly. 
            The backend API successfully fetched preview data including title, description, and image from the URLs.
        </div>
        
        <h2>Articles with URL Previews</h2>
        
        <div class="card article-card">
            <div class="article-title">GitHub - Build and ship software</div>
            <div class="article-meta">Aug 21, 2025 ‚Ä¢ testuser ‚Ä¢ github.com</div>
            <div class="article-notes">This is where I keep all my code projects</div>
            <button class="preview-btn" onclick="hidePreview('github')">üåê Hide Preview</button>
            <div class="preview-content" id="preview-github">
                <img src="https://github.githubassets.com/assets/campaign-social-031d6161fa10.png" class="preview-image" alt="GitHub preview">
                <div class="preview-text">
                    <div class="preview-title">GitHub ¬∑ Build and ship software on a single, collaborative platform</div>
                    <div class="preview-description">Join the world's most widely adopted, AI-powered developer platform where millions of developers, businesses, and the largest open source community build software that advances humanity.</div>
                    <div class="preview-domain">GitHub</div>
                </div>
                <div style="clear: both;"></div>
                <button onclick="window.open('https://github.com', '_blank')" style="color: #6b7280; font-size: 12px; margin-top: 8px; border: none; background: none; cursor: pointer; text-decoration: underline;">üîó Open URL</button>
            </div>
            <div class="tags">
                <span class="tag">development</span>
                <span class="tag">git</span> 
                <span class="tag">coding</span>
            </div>
        </div>

        <div class="card article-card">
            <div class="article-title">OpenAI GPT-4 Documentation</div>
            <div class="article-meta">Aug 21, 2025 ‚Ä¢ testuser ‚Ä¢ openai.com</div>
            <div class="article-notes">Very useful for understanding AI capabilities</div>
            <button class="preview-btn" onclick="showPreview('openai')">üåê Show Preview</button>
            <div id="preview-openai"></div>
            <div class="tags">
                <span class="tag">ai</span>
                <span class="tag">machine-learning</span>
                <span class="tag">documentation</span>
            </div>
        </div>

        <div class="card article-card">
            <div class="article-title">React Documentation</div>
            <div class="article-meta">Aug 21, 2025 ‚Ä¢ testuser ‚Ä¢ react.dev</div>
            <div class="article-notes">Essential for frontend development</div>
            <button class="preview-btn" onclick="showPreview('react')">üåê Show Preview</button>
            <div id="preview-react"></div>
            <div class="tags">
                <span class="tag">react</span>
                <span class="tag">frontend</span>
                <span class="tag">javascript</span>
            </div>
        </div>
        
        <div class="card">
            <h2>How It Works</h2>
            <ol style="color: #374151; line-height: 1.6;">
                <li><strong>Backend API:</strong> Created <code>/api/v1/articles/preview</code> endpoint that accepts URLs</li>
                <li><strong>Web Scraping:</strong> Uses BeautifulSoup4 to extract Open Graph meta data, Twitter Cards, and fallback content</li>
                <li><strong>Frontend Integration:</strong> Added UrlPreviewCard component with loading states and error handling</li>
                <li><strong>Article Cards:</strong> Integrated preview functionality into all view modes (list, card, magazine)</li>
                <li><strong>No Storage:</strong> Preview data is fetched dynamically and not stored in the database</li>
            </ol>
        </div>
    </div>

    <script>
        function hidePreview(id) {
            const container = document.getElementById('preview-' + id);
            const button = document.querySelector('[onclick="hidePreview(\'' + id + '\')"]');
            container.innerHTML = '';
            button.innerHTML = 'üåê Show Preview';
            button.setAttribute('onclick', 'showPreview(\'' + id + '\')');
        }

        function showPreview(id) {
            const container = document.getElementById('preview-' + id);
            const button = document.querySelector('[onclick="showPreview(\'' + id + '\')"]');
            
            // Simulate loading
            container.innerHTML = '<div style="color: #2563eb; font-size: 14px;"><span>üîÑ</span> Loading preview...</div>';
            button.innerHTML = 'üåê Loading...';
            
            setTimeout(() => {
                if (id === 'openai') {
                    container.innerHTML = `
                        <div class="preview-content">
                            <img src="https://openai.com/favicon.ico" class="preview-image" alt="OpenAI preview" style="width: 40px; height: 40px; padding: 20px; background: #f0f0f0;">
                            <div class="preview-text">
                                <div class="preview-title">OpenAI Platform</div>
                                <div class="preview-description">Explore developer resources, tutorials, API docs, and dynamic examples to get the most out of OpenAI's platform.</div>
                                <div class="preview-domain">OpenAI</div>
                            </div>
                            <div style="clear: both;"></div>
                            <button onclick="window.open('https://openai.com', '_blank')" style="color: #6b7280; font-size: 12px; margin-top: 8px; border: none; background: none; cursor: pointer; text-decoration: underline;">üîó Open URL</button>
                        </div>
                    `;
                } else if (id === 'react') {
                    container.innerHTML = `
                        <div class="preview-content">
                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjMjMyNzJhIi8+PGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iMzAiIGZpbGw9IiM2MWRhZmIiLz48L3N2Zz4=" class="preview-image" alt="React preview">
                            <div class="preview-text">
                                <div class="preview-title">React - A JavaScript library for building user interfaces</div>
                                <div class="preview-description">React makes it painless to create interactive UIs. Design simple views for each state in your application.</div>
                                <div class="preview-domain">React</div>
                            </div>
                            <div style="clear: both;"></div>
                            <button onclick="window.open('https://react.dev', '_blank')" style="color: #6b7280; font-size: 12px; margin-top: 8px; border: none; background: none; cursor: pointer; text-decoration: underline;">üîó Open URL</button>
                        </div>
                    `;
                }
                button.innerHTML = 'üåê Hide Preview';
                button.setAttribute('onclick', 'hidePreview(\'' + id + '\')');
            }, 800);
        }
    </script>
</body>
</html>